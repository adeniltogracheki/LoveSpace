# üíï LoveSpace - App de Casal Gamificado

Um aplicativo completo para casais com gamifica√ß√£o, avatares personaliz√°veis, pet virtual e muito mais!

## üìã √çndice

- [Vis√£o Geral](#vis√£o-geral)
- [Funcionalidades](#funcionalidades)
- [Pr√©-requisitos](#pr√©-requisitos)
- [Instala√ß√£o Local](#instala√ß√£o-local)
- [Configura√ß√£o do Backend](#configura√ß√£o-do-backend)
- [Executando o App](#executando-o-app)
- [Testando em Dispositivo Real](#testando-em-dispositivo-real)
- [Build para Produ√ß√£o](#build-para-produ√ß√£o)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Troubleshooting](#troubleshooting)

---

## üéØ Vis√£o Geral

LoveSpace √© um aplicativo de relacionamento gamificado que permite aos casais:
- Criar avatares personalizados
- Cuidar de um pet virtual juntos
- Decorar um espa√ßo virtual compartilhado
- Gerenciar mem√≥rias e listas de desejos
- Acompanhar humor di√°rio
- Calend√°rio de eventos importantes

---

## ‚ú® Funcionalidades

### Fase 1 (Implementada) ‚úÖ
- ‚úÖ Sistema de autentica√ß√£o completo (Email + OTP + Senha)
- ‚úÖ Sistema de convite √∫nico para vincula√ß√£o de casais
- ‚úÖ Perfis de usu√°rio e casal
- ‚úÖ Dashboard do relacionamento
- ‚úÖ Estat√≠sticas e contadores
- ‚úÖ Sistema de moeda interna (cora√ß√µes)
- ‚úÖ Navega√ß√£o por tabs

### Fase 2 (Planejada) üîú
- üîú Customiza√ß√£o completa de avatares
- üîú Pet virtual interativo com sistema de cuidados
- üîú Loja de itens e decora√ß√µes
- üîú Sistema de n√≠veis e recompensas

### Fase 3 (Planejada) üîú
- üîú Chat privado criptografado
- üîú Calend√°rio compartilhado
- üîú Lista de desejos colaborativa
- üîú Di√°rio de humor di√°rio

---

## üì¶ Pr√©-requisitos

Antes de come√ßar, certifique-se de ter instalado:

### Obrigat√≥rios:
- **Node.js** (v18 ou superior) - [Download](https://nodejs.org/)
- **Git** - [Download](https://git-scm.com/)
- **npm** ou **yarn** (vem com Node.js)

### Para Desenvolvimento Mobile:
- **Expo Go App** (iOS/Android) - [Download na App Store](https://apps.apple.com/app/expo-go/id982107779) ou [Google Play](https://play.google.com/store/apps/details?id=host.exp.exponent)

### Para Build Nativo (Opcional):
- **EAS CLI**: `npm install -g eas-cli`
- **Conta Expo**: [Criar conta](https://expo.dev/signup)

---

## üöÄ Instala√ß√£o Local

### Passo 1: Clone o Projeto

```bash
# Se ainda n√£o clonou do OnSpace
git clone [URL_DO_SEU_REPOSITORIO]
cd lovespace-app

# Ou se j√° est√° no diret√≥rio do projeto, pule este passo
```

### Passo 2: Instale as Depend√™ncias

```bash
# Usando npm
npm install

# OU usando yarn
yarn install
```

**Tempo estimado**: 2-5 minutos

### Passo 3: Verifique a Instala√ß√£o

```bash
# Verifique se todas as depend√™ncias foram instaladas
npm list --depth=0

# Voc√™ deve ver pacotes como:
# - expo
# - react-native
# - @supabase/supabase-js
# - expo-router
# etc.
```

---

## ‚öôÔ∏è Configura√ß√£o do Backend

### ‚úÖ Backend J√° Configurado!

**Boa not√≠cia**: O backend j√° est√° 100% configurado atrav√©s do OnSpace Spaces! Voc√™ n√£o precisa:
- ‚ùå Instalar servidor separado
- ‚ùå Configurar banco de dados manualmente
- ‚ùå Gerenciar vari√°veis de ambiente
- ‚ùå Configurar autentica√ß√£o

### O que j√° est√° funcionando:

1. **Banco de Dados PostgreSQL**
   - 8 tabelas criadas automaticamente
   - Pol√≠ticas de seguran√ßa (RLS) ativas
   - √çndices otimizados

2. **Autentica√ß√£o**
   - Sistema de email + senha
   - Verifica√ß√£o via OTP
   - Gerenciamento de sess√£o

3. **Storage**
   - Pronto para upload de imagens
   - Pol√≠ticas de acesso configuradas

4. **Vari√°veis de Ambiente**
   - Geradas automaticamente
   - Sincronizadas com o app

### Verificar Configura√ß√£o do Backend

1. **Acesse o Dashboard** no OnSpace
2. V√° para a aba **"Data"**
3. Voc√™ deve ver as seguintes tabelas:
   - ‚úÖ `user_profiles`
   - ‚úÖ `couples`
   - ‚úÖ `avatars`
   - ‚úÖ `pets`
   - ‚úÖ `spaces`
   - ‚úÖ `user_currency`
   - ‚úÖ `memories`
   - ‚úÖ `calendar_events`
   - ‚úÖ `mood_entries`

Se todas as tabelas estiverem l√°, **seu backend est√° 100% funcional**! üéâ

---

## üèÉ Executando o App

### Desenvolvimento Local (Web)

```bash
# Inicie o servidor de desenvolvimento
npm start

# OU
npx expo start
```

O aplicativo abrir√° em:
- **Web**: http://localhost:8081
- **Metro Bundler**: http://localhost:8081

### Testando no Navegador

```bash
# Pressione 'w' no terminal ap√≥s iniciar
# OU acesse diretamente:
npx expo start --web
```

### Testando no Simulador iOS (apenas Mac)

```bash
# Pressione 'i' no terminal ap√≥s iniciar
# OU:
npx expo start --ios
```

**Pr√©-requisito**: Xcode instalado

### Testando no Emulador Android

```bash
# Pressione 'a' no terminal ap√≥s iniciar
# OU:
npx expo start --android
```

**Pr√©-requisito**: Android Studio instalado

---

## üì± Testando em Dispositivo Real

### M√©todo 1: Expo Go (Mais F√°cil) ‚úÖ

#### iOS:
1. Instale o **Expo Go** da App Store
2. Execute `npm start`
3. Escaneie o QR Code com a c√¢mera do iPhone
4. O app abrir√° automaticamente no Expo Go

#### Android:
1. Instale o **Expo Go** da Google Play
2. Execute `npm start`
3. Abra o Expo Go e escaneie o QR Code
4. Ou pressione 'a' para abrir diretamente

### M√©todo 2: Build de Desenvolvimento

```bash
# Instale EAS CLI (uma vez)
npm install -g eas-cli

# Configure sua conta Expo
eas login

# Build para iOS (Development)
eas build --platform ios --profile development

# Build para Android (Development)
eas build --platform android --profile development
```

---

## üì¶ Build para Produ√ß√£o

### Build Android (APK ou AAB)

```bash
# Build APK (para testes)
eas build --platform android --profile preview

# Build AAB (para Google Play)
eas build --platform android --profile production
```

**Tempo estimado**: 10-20 minutos

**Resultado**: Link para download do APK/AAB

### Build iOS (IPA)

```bash
# Build para TestFlight
eas build --platform ios --profile production
```

**Pr√©-requisitos**:
- Apple Developer Account ($99/ano)
- Certificados configurados

### Configurar Builds (app.json)

```json
{
  "expo": {
    "name": "LoveSpace",
    "slug": "lovespace",
    "version": "1.0.0",
    "ios": {
      "bundleIdentifier": "com.seudominio.lovespace",
      "buildNumber": "1"
    },
    "android": {
      "package": "com.seudominio.lovespace",
      "versionCode": 1
    }
  }
}
```

---

## üóÇÔ∏è Estrutura do Projeto

```
lovespace-app/
‚îú‚îÄ‚îÄ app/                      # Rotas (Expo Router)
‚îÇ   ‚îú‚îÄ‚îÄ (tabs)/              # Navega√ß√£o por tabs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx      # Configura√ß√£o dos tabs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx        # Home (Dashboard do casal)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ avatar.tsx       # Customiza√ß√£o de avatar
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ memories.tsx     # Mem√≥rias e planos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile.tsx      # Perfil e configura√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx          # Layout raiz
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx            # Autentica√ß√£o + Router
‚îÇ   ‚îú‚îÄ‚îÄ login.tsx            # Tela de login/registro
‚îÇ   ‚îî‚îÄ‚îÄ onboarding.tsx       # Vincula√ß√£o de casais
‚îÇ
‚îú‚îÄ‚îÄ contexts/                # Estados globais
‚îÇ   ‚îî‚îÄ‚îÄ CoupleContext.tsx    # Contexto do casal
‚îÇ
‚îú‚îÄ‚îÄ hooks/                   # Hooks customizados
‚îÇ   ‚îî‚îÄ‚îÄ useCouple.tsx        # Hook do casal
‚îÇ
‚îú‚îÄ‚îÄ services/                # L√≥gica de neg√≥cio
‚îÇ   ‚îî‚îÄ‚îÄ coupleService.ts     # Servi√ßos do casal
‚îÇ
‚îú‚îÄ‚îÄ types/                   # TypeScript types
‚îÇ   ‚îî‚îÄ‚îÄ couple.ts            # Tipos do dom√≠nio
‚îÇ
‚îú‚îÄ‚îÄ assets/                  # Recursos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ fonts/              # Fontes customizadas
‚îÇ   ‚îî‚îÄ‚îÄ images/             # Imagens
‚îÇ
‚îú‚îÄ‚îÄ .env                     # Vari√°veis de ambiente (auto-gerado)
‚îú‚îÄ‚îÄ app.json                 # Configura√ß√£o do Expo
‚îú‚îÄ‚îÄ package.json             # Depend√™ncias
‚îî‚îÄ‚îÄ tsconfig.json           # Configura√ß√£o TypeScript
```

---

## üîß Troubleshooting

### Problema: "Metro Bundler n√£o inicia"

**Solu√ß√£o**:
```bash
# Limpe o cache
npx expo start -c

# OU
rm -rf node_modules
npm install
npx expo start
```

### Problema: "Erro de autentica√ß√£o no backend"

**Verifica√ß√µes**:
1. Confirme que as vari√°veis de ambiente est√£o configuradas:
   ```bash
   # Verifique .env
   cat .env
   
   # Deve conter:
   EXPO_PUBLIC_SUPABASE_URL=https://...
   EXPO_PUBLIC_SUPABASE_ANON_KEY=eyJ...
   ```

2. Verifique o Dashboard no OnSpace:
   - Aba "Data" ‚Üí Tabela `user_profiles` existe?
   - RLS policies est√£o ativas?

### Problema: "App n√£o carrega no dispositivo"

**Solu√ß√µes**:
1. Certifique-se de estar na mesma rede WiFi
2. Desative VPN se estiver usando
3. Reinicie o Expo Go
4. Reinicie o servidor: `npx expo start -c`

### Problema: "Erro ao criar convite de casal"

**Verifica√ß√£o**:
```sql
-- Acesse o Dashboard > SQL Editor e execute:
SELECT * FROM couples WHERE user1_id = 'SEU_USER_ID';
```

Se n√£o retornar nada, a fun√ß√£o `generate_invite_code` pode n√£o estar criada.

**Solu√ß√£o**: Re-execute o SQL no Dashboard

### Problema: "Build falha no EAS"

**Verifica√ß√µes**:
1. Certifique-se de estar logado:
   ```bash
   eas whoami
   ```

2. Verifique o arquivo `eas.json`:
   ```bash
   cat eas.json
   ```

3. Veja os logs completos:
   ```bash
   eas build:list
   ```

---

## üé® Personaliza√ß√£o

### Mudar Cores do Tema

Edite os arquivos de cada tela. Exemplo em `app/(tabs)/index.tsx`:

```typescript
// Cores atuais (rosa/roxo)
colors={['#FFE4E1', '#FFF0F5', '#FFFFFF']}

// Cores azul/verde (exemplo)
colors={['#E0F7FA', '#E1F5FE', '#FFFFFF']}
```

### Adicionar Novos √çcones

```typescript
import { MaterialIcons } from '@expo/vector-icons';

<MaterialIcons name="nome-do-icone" size={24} color="#FF69B4" />
```

[Lista completa de √≠cones](https://icons.expo.fyi/)

---

## üìä Monitoramento

### Ver Usu√°rios Cadastrados

**Dashboard OnSpace** ‚Üí Aba "Data" ‚Üí Tabela `user_profiles`

### Ver Casais Ativos

**Dashboard OnSpace** ‚Üí Aba "Data" ‚Üí Tabela `couples`

### Ver Logs do Backend

**Dashboard OnSpace** ‚Üí Aba "Logs" (em breve)

---

## üö¢ Deploy para Produ√ß√£o

### Deploy do App

1. **Configure os builds** em `app.json`
2. **Execute o build**:
   ```bash
   eas build --platform all --profile production
   ```
3. **Publique**:
   - iOS: [App Store Connect](https://appstoreconnect.apple.com/)
   - Android: [Google Play Console](https://play.google.com/console)

### Backend (J√° Deployado)

Seu backend Spaces j√° est√° em produ√ß√£o! N√£o precisa fazer deploy separado.

---

## üìù Pr√≥ximos Passos

1. ‚úÖ Testar o app localmente
2. ‚úÖ Criar conta de casal de teste
3. ‚úÖ Verificar funcionamento do sistema de convite
4. üîú Implementar Fase 2 (Gamifica√ß√£o completa)
5. üîú Implementar Fase 3 (Chat e features sociais)
6. üîú Adicionar notifica√ß√µes push
7. üîú Configurar analytics

---

## üÜò Suporte

### Documenta√ß√£o Oficial
- [Expo Docs](https://docs.expo.dev/)
- [React Native Docs](https://reactnative.dev/)
- [Supabase Docs](https://supabase.com/docs)

### Comunidade
- [Expo Discord](https://chat.expo.dev/)
- [Stack Overflow](https://stackoverflow.com/questions/tagged/expo)

### Precisa de Ajuda?
Entre em contato via OnSpace chat ou abra uma issue no GitHub.

---

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo LICENSE para mais detalhes.

---

**Desenvolvido com üíï usando OnSpace AI**